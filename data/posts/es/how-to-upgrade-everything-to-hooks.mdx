---
title: 'React Hooks: La oportunidad de mejorar'
publishedAt: '08/09/2019'
cover: '/static/images/how-to-upgrade-everything-to-hooks/banner.jpg'
seo:
  {
    title: 'React Hooks: La oportunidad de mejorar',
    description:
      'Si todav칤a te est치s resistiendo a actualizar todo a hooks, no te preocupes - explicar칠 c칩mo usar efectivamente tanto useEffect como useState.

      Es bien conocido que mientras m치s estemos escribiendo JavaScript plano sin hacer que Babel compile tantas cosas nuestro c칩digo estar치 mucho m치s optimizado y ser치 m치s r치pido.',
  }
tags:
  - 'Development'
  - 'Code Examples'
---

Es bien conocido que mientras m치s estemos escribiendo JavaScript plano sin hacer que Babel compile tantas cosas nuestro c칩digo estar치 mucho m치s optimizado y ser치 m치s r치pido. Para esto llega React Hooks, disponible desde la versi칩n `>=16.8.0` reemplazando pr치cticamente todo lo que hab칤amos usado anteriormente con componentes de tipo clase, solo hay dos m칠todos que no han podido reemplazar los Hooks a칰n: `componentDidCatch` y `getDerivedStateFromError` 游땞.

Normalmente nosotros hacemos un componente de tipo clase de esta manera:

```jsx showLineNumbers
import React, { Component } from 'react'

class Counter extends Component {
  constructor(props) {
    super(props)
    this.state = {
      count: 0,
    }
  }

  render() {
    return (
      <div>
        <p>You clicked {this.state.count} times</p>
        <button onClick={() => this.setState({ count: this.state.count + 1 })}>
          Click me
        </button>
      </div>
    )
  }
}

export default Counter
```

El c칩digo aparte de que se ve largo 游 hace que Babel transpile m치s cosas innecesarias, que el c칩digo se haga m치s largo y que pese mucho m치s nuestro JavaScript final. Para hacer que todos estos puntos mejoren llegaron los Hooks, haremos el mismo c칩digo pero usando el Hook de `useState()`:

```jsx showLineNumbers
import React, { useState } from 'react'

export default function Counter() {
  const [count, setCount] = useState(0)

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>Click me</button>
    </div>
  )
}
```

**쯄uch칤simo m치s condensado el c칩digo cierto 游땯游땸?** Aparte de esto estamos usando pr치cticamente JavaScript plano esto hace que Babel no tenga que compilar a칰n m치s c칩digo innecesario, 춰e incluso podemos hacer el estado de nuestros inputs de los formularios con Hooks! 游땙游눩

Podemos hacerlo de la siguiente manera:

```jsx showLineNumbers
import React, { useState } from 'react'

export default function ContactForm() {
  // Declaramos primero inputs el estado y setInputs la funci칩n, y lo igualamos a un objeto
  const [inputs, setInputs] = useState({})

  const handleChange = (e) => {
    // Con esto accederemos a las propiedades del evento de forma as칤ncrona
    e.persist()
    // Ahora llamamos a la funci칩n, le pasamos el estado actual y le pasamos tambi칠n el nombre del campo y su valor. Lo guardar치 justamente como un objeto
    setInputs((inputs) => ({ ...inputs, [e.target.name]: e.target.value }))
  }

  return (
    <form>
      {/*...*/}
      <label htmlFor="name">Name</label>
      <input type="text" name="name" onChange={handleChange} />
      {/*...*/}
    </form>
  )
}
```

Gracias a esto podemos hacer que nuestras aplicaciones est칠n m치s actualizadas, mucho m치s r치pida para nuestros clientes y utilizando las 칰ltimas caracter칤sticas. Ahora, 쯤u칠 pasa con `componentDidMount()` el cual usamos para mayormente obtener data? Ahora es mucho m치s f치cil:

```jsx showLineNumbers
import React, { useEffect } from 'react'

export default function Home() {
  // Simplemente llamaremos a la funci칩n useEffect() y dentro podremos lo que necesitamos hacer cuando el componente cargue
  useEffect(() => {
    miFuncionQueHaceFecthDeData()
  }, [])
}
```

춰Listo eso es todo 游땙! 쯈u칠 es el array que coloqu칠 al final? Eso sirve para decirle a ese `useEffect()` si depende de alg칰n estado para funcionar y tambi칠n si no se le coloca ese array aunque sea vac칤o entrar치 en un bucle infinito; as칤 asegura que se ejecute una vez y solo cuando se necesite.

**_쮼s recomendable actualizar todo a Hooks?_** Desde mi punto de vista, si, 쯣or qu칠? Mientras menos c칩digo que tenga que compilar Babel ser치 mucho mejor para tu negocio o aplicaci칩n. 쯃o mejor? Aprendes a usar mucho mejor JavaScript 游눩
